# =============================================================================
# ARQUIVO DE CONFIGURAÇÃO - Projeto Previsão de Demanda SISCEAB
# =============================================================================
# Versão: 2.0.1
# Atualizada em 2025-11-27

project:
  name: 'Previsão de Demanda SISCEAB'
  author: 'Luiz Antonio Rezende'
  version: '2.0.0'
  description: 'Análise comparativa de métodos de previsão de demanda intermitente'

paths:
  data:
    raw: 'data/raw'
    processed: 'data/processed'
    interim: 'data/interim'
    external: 'data/external'
  output:
    figures: 'output/figures'
    tables: 'output/tables'
    models: 'output/models'
    reports: 'output/reports'
  logs: 'logs'

data:
  files:
    consumo: 'dados_consumo-19-11-25.xlsx'
    alternados: 'dados_alternados-19-11-25.xlsx'
      # Configurações de leitura
  sheets:
    consumo: 'Select t_historico_consumo_proj'
    alternados: 'Select t_alternado'

parameters:
  seed: 42
  validation:
    n_origins: 6
    test_months: 12
    train_min_months: 36
  forecasting:
    horizon: 12
      # === MODO DEBUG === #
    debug_mode: TRUE  # TRUE para ativar modo de teste
    debug_n_materials: 10  # Materiais por origem em modo debug
    debug_n_origins: 1  # Número de origens em modo debug
    debug_chunk_size: 10  # Chunk size reduzido para debug
    
    baseline_methods:
      - 'naive'
      - 'mean'
      - 'moving_average'
      - 'arima'
      - 'ets'
      - 'holt_winters_additive'
      - 'holt_winters_multiplicative'
    intermittent_methods:
      - 'croston'
      - 'sba'
      - 'tsb'
    probabilistic_methods:
      - 'poisson'        # Método atual DECEA
      - 'gamma'
    adida:
      enabled: true
      aggregation_levels: [3, 12]  # k=3 (trimestral), k=12 (anual)
      base_methods: ['mean', 'croston']
  metrics:
    primary:
      - 'mae'                   # Mean Absolute Error
      - 'rmse'                  # Root Mean Squared Error
      - 'bias'                  # Mean Error
      - 'linlin'                # Asymmetric Loss
      - 'mad_mean_ratio'        # MAD/Mean Ratio
    
    # Perspectivas de avaliação
    perspectives:
      - 'monthly'               # Acurácia mês a mês
      - 'annual'                # Acurácia anual agregada
    
    # Parâmetros de métricas específicas
    linlin:
      p: 0.85                   # Penalização assimétrica (razão custo 5.7:1)
      # p=0.5 → simétrico (MAE)
      # p>0.5 → penaliza subestimação
      # p<0.5 → penaliza superestimação
  sbc:
    adi_threshold: 1.32
    cv2_threshold: 0.49
  # Parâmetros de tratamento de dados
  data_cleaning:
    min_occurrences: 3  # Mínimo de ocorrências de demanda não-zero
    outlier_iqr_factor: 3.0  # Fator IQR para detecção de outliers
    discontinuity_months: 36  # Meses sem demanda para considerar descontinuado  

computation:
  parallel: true
  n_cores: 8

output:
  save_intermediate: true
  figures:
    format: 'png'
    dpi: 300
    width: 10
    height: 6
  tables:
    format: 'xlsx'
